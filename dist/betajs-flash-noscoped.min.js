/*!
betajs-flash - v0.0.1 - 2015-03-18
Copyright (c) Oliver Friedmann
MIT Software License.
*/
(function(){var a=this.subScope();a.binding("module","global:BetaJS.Flash"),a.binding("base","global:BetaJS"),a.binding("jquery","global:jQuery"),a.define("module:",function(){return{guid:"3adc016a-e639-4d1a-b4cb-e90cab02bc4f",version:"4.1426716096688",__global:{}}}),a.define("module:FlashEmbedding",["base:Class","base:Strings","base:Async","base:Functions","base:Types","base:Objs","base:Ids","module:__global","module:FlashObjectWrapper","module:FlashClassWrapper"],function(a,b,c,d,e,f,g,h,i,j,k){return a.extend({scoped:k},function(a){return{constructor:function(b,c){a.constructor.call(this),this.__embedding=b,c=c||{},this.__registry=c.registry,this.__wrap=c.wrap,this.__cache={},this.__callbacks={},this.__wrappers={},this.__staticWrappers={},h[this.cid()]=this.__callbacks},destroy:function(){delete h[this.cid()],f.iter(this.__wrappers,function(a){a.destroy()}),f.iter(this.__staticWrappers,function(a){a.destroy()}),a.destroy.call(this)},registerCallback:function(a,b){var c="__FLASHCALLBACK__"+g.uniqueId();return this.__callbacks[c]=d.as_method(a,b||this),c},unregisterCallback:function(a){delete this.__callbacks[a]},serialize:function(a){return e.is_array(a)?f.map(a,this.serialize,this):(e.is_function(a)&&(a=this.registerCallback(a)),e.is_string(a)&&b.starts_with(a,"__FLASHCALLBACK__")&&(a="BetaJS.Flash.__global."+this.cid()+"."+a),i.is_instance_of(a)&&(a=a.__ident),j.is_instance_of(a)&&(a=a.__type),a)},unserialize:function(a){if(e.is_string(a)&&b.starts_with(a,"__FLASHERR__"))throw b.strip_start(a,"__FLASHERR__");if(e.is_string(a)&&b.starts_with(a,"__FLASHOBJ__")&&this.__wrap){var c=b.strip_start(a,"__FLASHOBJ__");if(c=b.splitFirst(c,"__").head.replace("::","."),"object"!=c.toLowerCase())return a in this.__wrappers||(this.__wrappers[a]=new i(this,a,c)),this.__wrappers[a]}return a},invoke:function(a,b){return b=b||[],this.unserialize(this.__embedding[a].apply(this.__embedding,this.serialize(d.getArguments(b))))},invokeCached:function(a,b){b=b||[];var c=a+"__"+d.getArguments(b).join("__");return c in this.__cache||(this.__cache[c]=this.invoke.call(this,a,b)),this.__cache[c]},getClass:function(a){return this.__wrap?(a in this.__staticWrappers||(this.__staticWrappers[a]=new j(this,a)),this.__staticWrappers[a]):null},newObject:function(){return this.flashCreate.apply(this,arguments)},newCallback:function(){return this.flashCreateCallbackObject.apply(this,arguments)},flashCreateCallbackObject:function(){return this.invoke("create_callback_object",arguments)},flashCreate:function(){return this.invoke("create",arguments)},flashDestroy:function(){return this.invoke("destroy",arguments)},flashCall:function(){return this.invoke("call",arguments)},flashCallVoid:function(){return this.invoke("call_void",arguments)},flashGet:function(){return this.invoke("get",arguments)},flashSet:function(){return this.invoke("set",arguments)},flashStaticCall:function(){return this.invoke("static_call",arguments)},flashStaticCallVoid:function(){return this.invoke("static_call_void",arguments)},flashGetStatic:function(){return this.invoke("get_static",arguments)},flashSetStatic:function(){return this.invoke("set_static",arguments)},flashAddEventListener:function(){return this.invoke("add_event_listener",arguments)},flashMain:function(){return this.invokeCached("main")},ready:function(a,b){c.waitFor(this.flashMain,this,a,b)}}})}),a.define("module:Helper",["base:Time","base:Objs"],function(a,b){return{options:{flashFile:"betajs-flash.swf"},embedTemplate:function(c){c=b.extend(b.clone(this.options,1),c);var d=[];d.push({objectKey:"classid",value:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"}),d.push({objectKey:"codebase",value:"http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"}),d.push({embedKey:"align",value:"middle"}),d.push({embedKey:"play",value:"true"}),d.push({embedKey:"loop",value:"false"}),d.push({embedKey:"type",value:"application/x-shockwave-flash"}),d.push({embedKey:"pluginspage",value:"http://www.adobe.com/go/getflashplayer"}),d.push({objectParam:"quality",embedKey:"quality",value:"high"}),d.push({objectParam:"allowScriptAccess",embedKey:"allowScriptAccess",value:"always"}),d.push({objectParam:"wmode",embedKey:"wmode",value:"opaque"}),d.push({objectParam:"movie",embedKey:"src",value:c.flashFile+(c.forceReload?"?"+a.now():"")}),c.width&&d.push({objectKey:"width",embedKey:"width",value:c.width}),c.height&&d.push({objectKey:"height",embedKey:"height",value:c.height}),c.bgcolor&&d.push({objectParam:"bgcolor",embedKey:"bgcolor",value:c.bgcolor}),c.FlashVars&&d.push({objectParam:"FlashVars",embedKey:"FlashVars",value:c.FlashVars});var e=[],f=[],g=[];return b.iter(d,function(a){a.objectKey&&e.push(a.objectKey+'="'+a.value+'"'),a.embedKey&&g.push(a.embedKey+'="'+a.value+'"'),a.objectParam&&f.push('<param name="'+a.objectParam+'" value="'+a.value+'" />')},this),"<object "+e.join(" ")+">"+f.join(" ")+"<embed "+g.join(" ")+"></embed></object>"}}}),a.define("module:FlashClassRegistry",["base:Class"],function(a,b){return a.extend({scoped:b},{interfaces:{},register:function(a,b,c){this.interfaces[a]={methods:b||{},statics:c||{}}},get:function(a){return this.interfaces[a]}})}),a.define("module:FlashObjectWrapper",["base:Class","base:Objs","base:Functions"],function(a,b,c,d){return a.extend({scoped:d},function(a){return{constructor:function(d,e,f){a.constructor.call(this),this.__embedding=d,this.__ident=e,this.__type=f,d.__registry&&b.iter(d.__registry.get(f).methods,function(a){this[a]=function(){var b=c.getArguments(arguments);return b.unshift(a),b.unshift(this.__ident),this.__embedding.flashCall.apply(this.__embedding,b)},this[a+"Void"]=function(){var b=c.getArguments(arguments);return b.unshift(a),b.unshift(this.__ident),this.__embedding.flashCallVoid.apply(this.__embedding,b)}},this)},destroy:function(){this.__embedding.flashDestroy(this.__ident),a.destroy.call(this)},addEventListener:function(a,b){return this.__embedding.flashAddEventListener.call(this.__embedding,this.__ident,a,b)},set:function(a,b){return this.__embedding.flashSet.call(this.__embedding,this.__ident,a,b)},get:function(a){return this.__embedding.flashGet.call(this.__embedding,this.__ident,a)}}})}),a.define("module:FlashClassWrapper",["base:Class","base:Objs","base:Functions"],function(a,b,c,d){return a.extend({scoped:d},function(a){return{constructor:function(d,e){a.constructor.call(this),this.__embedding=d,this.__type=e,d.__registry&&b.iter(d.__registry.get(e).statics,function(a){this[a]=function(){var b=c.getArguments(arguments);return b.unshift(a),b.unshift(this.__type),this.__embedding.flashStaticCall.apply(this.__embedding,b)},this[a+"Void"]=function(){var b=c.getArguments(arguments);return b.unshift(a),b.unshift(this.__type),this.__embedding.flashStaticCallVoid.apply(this.__embedding,b)}},this)},set:function(a,b){return this.__embedding.flashSetStatic.call(this.__embedding,this.__type,a,b)},get:function(a){return this.__embedding.flashGetStatic.call(this.__embedding,this.__type,a)}}})})}).call(Scoped);