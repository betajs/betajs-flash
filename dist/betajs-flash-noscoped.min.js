/*!
betajs-flash - v0.0.1 - 2015-03-13
Copyright (c) Oliver Friedmann
MIT Software License.
*/
(function(){var a=this.subScope();a.binding("module","global:BetaJS.Flash"),a.binding("base","global:BetaJS"),a.binding("jquery","global:jQuery"),a.define("module:",function(){return{guid:"3adc016a-e639-4d1a-b4cb-e90cab02bc4f",version:"1.1426286800672",__global:{}}}),a.define("module:FlashEmbedding",["base:Class","base:Strings","base:Async","base:Functions","base:Types","base:Objs","base:Ids","module:__global","module:FlashObjectWrapper"],function(a,b,c,d,e,f,g,h,i,j){return a.extend({scoped:j},function(a){return{constructor:function(b,c){a.constructor.call(this),this.__embedding=b,c=c||{},this.__registry=c.registry,this.__wrap=c.wrap,this.__cache={},this.__callbacks={},this.__wrappers={},h[this.cid()]=this.__callbacks},destroy:function(){delete h[this.cid()],f.iter(this.__wrappers,function(a){a.destroy()}),a.destroy.call(this)},registerCallback:function(a,b){var c="__FLASHCALLBACK__"+g.uniqueId();return this.__callbacks[c]=d.as_method(a,b||this),c},unregisterCallback:function(a){delete this.__callbacks[a]},serialize:function(a){return e.is_array(a)?f.map(a,this.serialize,this):(e.is_function(a)&&(a=this.registerCallback(a)),e.is_string(a)&&b.starts_with(a,"__FLASHCALLBACK__")&&(a="BetaJS.Flash.__global."+this.cid()+"."+a),i.is_instance_of(a)&&(a=a.__ident),a)},unserialize:function(a){if(e.is_string(a)&&b.starts_with(a,"__FLASHERR__"))throw b.strip_start(a,"__FLASHERR__");if(e.is_string(a)&&this.__wrap&&b.starts_with(a,"__FLASHOBJ__")){if(!(a in this.__wrappers)){var c=b.strip_start(a,"__FLASHOBJ__");c=b.splitFirst(c,"__").head.replace("::","."),this.__wrappers[a]=new i(this,a,c)}return this.__wrappers[a]}return a},invoke:function(a,b){return b=b||[],this.unserialize(this.__embedding[a].apply(this.__embedding,this.serialize(d.getArguments(b))))},invokeCached:function(a,b){b=b||[];var c=a+"__"+d.getArguments(b).join("__");return c in this.__cache||(this.__cache[c]=this.invoke.call(this,a,b)),this.__cache[c]},newObject:function(){return this.flashCreate.apply(this,arguments)},flashCreate:function(){return this.invoke("create",arguments)},flashDestroy:function(){return this.invoke("destroy",arguments)},flashCall:function(){return this.invoke("call",arguments)},flashCallVoid:function(){return this.invoke("call_void",arguments)},flashGet:function(){return this.invoke("get",arguments)},flashSet:function(){return this.invoke("set",arguments)},flashStaticCall:function(){return this.invoke("static_call",arguments)},flashStaticCallVoid:function(){return this.invoke("static_call_void",arguments)},flashGetStatic:function(){return this.invoke("get_static",arguments)},flashSetStatic:function(){return this.invoke("set_static",arguments)},flashAddEventListener:function(){return this.invoke("add_event_listener",arguments)},flashMain:function(){return this.invokeCached("main")},ready:function(a,b){c.waitFor(this.flashMain,this,a,b)}}})}),a.define("module:Helper",["base:Time"],function(a){return{embedTemplate:function(b,c){return c&&(b+="?"+a.now()),'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+b+'" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="opaque"><embed src="'+b+'" quality="high" wmode="opaque" align="middle" play="true" loop="false" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer"></embed></object>'}}}),a.define("module:FlashClassRegistry",["base:Class"],function(a,b){return a.extend({scoped:b},{interfaces:{},register:function(a,b){this.interfaces[a]=b},get:function(a){return this.interfaces[a]||{}}})}),a.define("module:FlashObjectWrapper",["base:Class","base:Objs","base:Functions"],function(a,b,c,d){return a.extend({scoped:d},function(a){return{constructor:function(d,e,f){a.constructor.call(this),this.__embedding=d,this.__ident=e,this.__type=f,d.__registry&&b.iter(d.__registry.get(f),function(a){this[a]=function(){var b=c.getArguments(arguments);return b.unshift(a),b.unshift(this.__ident),this.__embedding.flashCall.apply(this.__embedding,b)},this[a+"Void"]=function(){var b=c.getArguments(arguments);return b.unshift(a),b.unshift(this.__ident),this.__embedding.flashCallVoid.apply(this.__embedding,b)}},this)},destroy:function(){this.__embedding.flashDestroy(this.__ident),a.destroy.call(this)},addEventListener:function(a,b){return this.__embedding.flashAddEventListener.call(this.__embedding,this.__ident,a,b)}}})})}).call(Scoped);